<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A webpage dedicated to the developer team at Ryalto">
    <meta name="author" content="Sergios Papastergiou">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@200;400;500;600&display=swap" rel="stylesheet">

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-touch-icon.png">
    <link rel="icon" sizes="16x16" href="../assets/images/favicon/favicon-16x16.png">
    <link rel="icon" sizes="32x32" href="../assets/images/favicon/favicon-32x32.png">
    <link rel="icon" sizes="512x512" href="../assets/images/favicon/facicon-512x512.png">

    <!-- Lottie Animation -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <!-- favicon here-->
    <script src="https://kit.fontawesome.com/0d939d98c3.js" crossorigin="anonymous"></script>
    <link href="../assets/css/prism.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/style.css" type="text/css">
    <title>Ryalto Developer Page</title>
</head>

<body>
    <!-- Header -->
    <header class="container-fluid">
        <div class="row">
            <div class="col-12 col-sm-4 offset-sm-4 text-center">
                <a href="../index.html">
                    <img src="../assets/images/logos-and-icons/ryalto-logo-lg.png" width="200" height="75.31"
                        alt="ryalto-logo" loading="lazy">
                </a>
            </div>
            <div class="d-none d-sm-inline-block col-4 text-sm-right">
                <ul class="list-inline">
                    <li class="list-inline-item">
                        <a class="social" href="#">
                            <i class="fa-solid fa-globe fa-bounce" style="--fa-animation-iteration-count: 3;"></i>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a class="social" href="#">
                            <i class="fa-brands fa-github fa-bounce" style="--fa-animation-iteration-count: 3;"></i>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a class="social" href="#">
                            <i class="fa-brands fa-twitter fa-bounce" style="--fa-animation-iteration-count: 3;"></i>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a class="social" href="#">
                            <i class="fa-brands fa-linkedin fa-bounce" style="--fa-animation-iteration-count: 3;"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <nav class="navbar navbar-expand">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item">
                    <a class="nav-link" href="../index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="../blogs-page.html">Blog <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Meet the Team</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Careers</a>
                </li>

            </ul>
        </nav>
    </header>

    <!-- Lottie Animation -->
    <div class="lottie-bg">
        <lottie-player class="lottie-animation"
            src="https://lottie.host/b6ae2926-020e-4c07-aa1c-4b79a653a491/wKjF4OiRZW.json" background="transparent"
            speed="1" loop autoplay></lottie-player>
    </div>

    <!-- Blog Full -->
    <article class="blog-full container-fluid">
        <div class="row">
            <div class="col-12 text-center gen-text">
                <h3>Simple Javascript Theme Toggle</h3>
            </div>
        </div>
        <div class="row author-info pt-2 pb-2 rounded">
            <div class="col-6">
                <img class="author-photo float-right mt-0" src="../assets/images/team/team-member-4.webp" alt="team-member-4">
            </div>
            <div class="col-6 gen-text">
                <h5>Rey</h5>
                <p>20 May 2021</p>
                <ul class="list-inline">
                    <li class="list-inline-item">
                        <a class="social" href="#">
                            <i class="fa-brands fa-github"></i>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a class="social" href="#">
                            <i class="fa-brands fa-linkedin"></i>
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a class="social" href="#">
                            <i class="fa-solid fa-envelope"></i>
                        </a>
                    </li>
                </ul>
            
            </div>
        </div>
        <div class="row">
            <div class="container">
                <div class="row">
                    <div class="col-12 text-justify gen-text">
                        <p>This post is going to talk through setting up a theme toggle using plain JavaScript.
                        Dark mode is becoming more and more common, its something that most operating systems now have as an option and many
                        individual pages now offer it as a preference too. However its not for everyone, and choice is always a good thing.
                        This code originally came from CSS Tricks however their implementation left a bit to be desired and just didn’t work
                        when I tried to implement it.</p>
                        <p>With a few tweaks, we can improve their code and we have our own dark mode toggle. If you want to test this out, click
                        the sun or moon button at the top of these page!</p>
                        <p>There’s a few considerations we need to have when building this script; does the user have a system preference set? has
                        the user visited our site before and set a preference here?</p>
                        <p>We can check for system preferences using window.matchMedia("(prefers-color-scheme: dark)"); and we can get any previous
                        site preference from local storage localStorage.getItem("theme");. So the first things we are going to do in our script
                        is assign these to variables, and create a variable for our toggle button.</p>
                        <pre class="language-js"
                            tabindex="0"><code class="language-js"><span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#theme-toggle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment">// check to see if OS preferences for light or dark mode</span>
                        <span class="token keyword">const</span> prefersDarkScheme <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">matchMedia</span><span class="token punctuation">(</span><span class="token string">"(prefers-color-scheme: dark)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">const</span> prefersLightScheme <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">matchMedia</span><span class="token punctuation">(</span><span class="token string">"(prefers-color-scheme: light)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        
                        <span class="token comment">// check to see if local storage has a theme preference</span>
                        <span class="token keyword">let</span> currentTheme <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"theme"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
                        <p>We want to let the user overwrite their system preferences, but if they haven’t done that we want to listen to take the
                        system preference and set our site theme to match. We’re going to create a function called setTheme, in this we inspect
                        our currentTheme variable. If it doesn’t exist we look at the system preference, set the currentTheme variable and call
                        the function again.</p>
                        <p>With a currentTheme variable set, we can make sure that the class on the body corresponds to our theme variable.</p>
                        <pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">function</span> <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token comment">//if no local storage check against system preferences</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>currentTheme <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span> <span class="token punctuation">(</span>prefersDarkScheme<span class="token punctuation">.</span>matches<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    currentTheme <span class="token operator">=</span> <span class="token string">"dark"</span>
                                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>prefersLightScheme<span class="token punctuation">.</span>matches<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    currentTheme <span class="token operator">=</span> <span class="token string">"light"</span>
                                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                                    <span class="token comment">// if no preferences, default to dark theme</span>
                                    currentTheme <span class="token operator">=</span> <span class="token string">"dark"</span>
                                <span class="token punctuation">}</span>
                                <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentTheme <span class="token operator">===</span> <span class="token string">"dark"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"light-mode"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"dark-mode"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentTheme <span class="token operator">===</span> <span class="token string">"light"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"dark-mode"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"light-mode"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span></code></pre>
                        <p>There’s two final bits to our script. First, handle a button press and toggle the theme. The button inspects our
                        currentTheme variable and swaps the value. It then stores the new value in local storage. There is probably a shorter
                        way of writing this with a ternary operator but this is clean, simple and easily understandable.</p>
                        <pre class="language-js" tabindex="0"><code class="language-js"><span class="token keyword">function</span> <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token comment">//if no local storage check against system preferences</span>
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>currentTheme <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                <span class="token keyword">if</span> <span class="token punctuation">(</span>prefersDarkScheme<span class="token punctuation">.</span>matches<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    currentTheme <span class="token operator">=</span> <span class="token string">"dark"</span>
                                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>prefersLightScheme<span class="token punctuation">.</span>matches<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                    currentTheme <span class="token operator">=</span> <span class="token string">"light"</span>
                                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                                    <span class="token comment">// if no preferences, default to dark theme</span>
                                    currentTheme <span class="token operator">=</span> <span class="token string">"dark"</span>
                                <span class="token punctuation">}</span>
                                <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentTheme <span class="token operator">===</span> <span class="token string">"dark"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"light-mode"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"dark-mode"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>currentTheme <span class="token operator">===</span> <span class="token string">"light"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"dark-mode"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"light-mode"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span></code></pre>
                        <p>The final thing we want to do is call our setTheme() function at the bottom of the page so it runs on page load. The
                        full script is at the end of this article.</p>
                        <p>The next thing we need to do is set up the css to control our themes. With the way we’ve put this together we’re not
                        limited to just dark or light themes, we could implement a range of colours if we wanted. For now, we’re just sticking
                        with dark and light themes. These classes are applied to our html body. So any additional styling we want just needs to
                        use these as parents, the scss we use for this is here:</p>
                        <pre class="language-scss" tabindex="0"><code class="language-scss"><span class="token selector"><span class="token parent important">&amp;</span>.dark-mode </span><span class="token punctuation">{</span>
                          <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$dark</span><span class="token punctuation">;</span>
                          <span class="token property">background</span><span class="token punctuation">:</span> <span class="token variable">$dark-background</span><span class="token punctuation">;</span>
                          <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ink-light</span><span class="token punctuation">;</span>
                        
                          <span class="token selector">.dark </span><span class="token punctuation">{</span>
                            <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>
                        
                          <span class="token selector">.light </span><span class="token punctuation">{</span>
                            <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>
                        
                          <span class="token selector">nav </span><span class="token punctuation">{</span>
                            <span class="token selector">a, button </span><span class="token punctuation">{</span>
                              <span class="token property">background</span><span class="token punctuation">:</span> #ffffffe6<span class="token punctuation">;</span>
                              <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$dark-gray</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        
                            <span class="token selector">a:hover </span><span class="token punctuation">{</span>
                              <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ink-dark</span><span class="token punctuation">;</span>
                              <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        
                            <span class="token selector">button:hover </span><span class="token punctuation">{</span>
                              <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ink-dark</span><span class="token punctuation">;</span>
                              <span class="token property">background</span><span class="token punctuation">:</span> <span class="token variable">$light-background</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                          <span class="token punctuation">}</span>
                        
                          <span class="token selector">.author </span><span class="token punctuation">{</span>
                            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$medium-gray</span><span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>
                        
                          <span class="token selector">article </span><span class="token punctuation">{</span>
                            <span class="token selector">a </span><span class="token punctuation">{</span>
                              <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$dark-link</span><span class="token punctuation">;</span>
                              <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
                        
                              <span class="token selector"><span class="token parent important">&amp;</span>:hover </span><span class="token punctuation">{</span>
                                <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$dark-link-hover</span><span class="token punctuation">;</span>
                              <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        
                            <span class="token selector">code.inline </span><span class="token punctuation">{</span>
                              <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$medium-gray</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                          <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                        
                        <span class="token selector"><span class="token parent important">&amp;</span>.light-mode </span><span class="token punctuation">{</span>
                          <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$gray</span><span class="token punctuation">;</span>
                          <span class="token property">background</span><span class="token punctuation">:</span> <span class="token variable">$light-background</span><span class="token punctuation">;</span>
                          <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ink-dark</span><span class="token punctuation">;</span>
                        
                          <span class="token selector">.light </span><span class="token punctuation">{</span>
                            <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>
                        
                          <span class="token selector">.dark </span><span class="token punctuation">{</span>
                            <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>
                        
                          <span class="token selector">.lab-logo </span><span class="token punctuation">{</span>
                            <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token variable">$dark</span><span class="token punctuation">;</span>
                            <span class="token property">background</span><span class="token punctuation">:</span> <span class="token variable">$dark-background</span><span class="token punctuation">;</span>
                            <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> 0 5px 10px 10px <span class="token variable">$dark</span><span class="token punctuation">;</span>
                            <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 5px 10px 10px <span class="token variable">$dark</span><span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>
                        
                          <span class="token selector">nav </span><span class="token punctuation">{</span>
                            <span class="token selector">a, button </span><span class="token punctuation">{</span>
                              <span class="token property">background</span><span class="token punctuation">:</span> <span class="token variable">$dark-gray</span><span class="token punctuation">;</span>
                              <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ink-light</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        
                            <span class="token selector">a:hover </span><span class="token punctuation">{</span>
                              <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$dark</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                        
                            <span class="token selector">button:hover </span><span class="token punctuation">{</span>
                              <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$ink-light</span><span class="token punctuation">;</span>
                              <span class="token property">background</span><span class="token punctuation">:</span> <span class="token variable">$dark-background</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                          <span class="token punctuation">}</span>
                        
                          <span class="token selector">.author </span><span class="token punctuation">{</span>
                            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$dark-gray</span><span class="token punctuation">;</span>
                          <span class="token punctuation">}</span>
                        
                          <span class="token selector">article </span><span class="token punctuation">{</span>
                            <span class="token selector">a </span><span class="token punctuation">{</span>
                              <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$light-link</span><span class="token punctuation">;</span>
                              <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
                        
                              <span class="token selector"><span class="token parent important">&amp;</span>:hover </span><span class="token punctuation">{</span>
                                <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$light-link-hover</span><span class="token punctuation">;</span>
                              <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        
                            <span class="token selector">code.inline </span><span class="token punctuation">{</span>
                              <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">$dark-gray</span><span class="token punctuation">;</span>
                            <span class="token punctuation">}</span>
                          <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span></code></pre>
                        <p>You can also view this on 
                            <a class="social" href="https://github.com/Legal-Innovation-Lab-Wales/developer-resources/blob/main/developer-page/assets/js/themeToggle.js">GitHub <i aria-hidden="true" class="fab fa-github"></i>
                            </a></p>
                        <p>If you have any questions, thoughts or suggestions, please get in touch!</p>
                    </div>
                </div>
            </div>
        </div>
    </article>

    <!-- Previous/Next Buttons -->
    <div class="container mt-5">
        <div class="row">
            <div class="col-6 d-none text-center ">
                <button class="btn home-page-btn d-none">Previous</button>
            </div>
            <div class="col-6 text-center">
                <p class="inactive">Previous</p>
            </div>
            <div class="col-6 text-center">
                <button class="btn home-page-btn">Next</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="container-fluid bg-color-footer mt-5">
        <div class="row">
            <div class="col text-center">
                <a href="index.html">
                    <img src="../assets/images/logos-and-icons/logo-small.png" alt="ryalto-logo-small" width="100"
                        height="100">
                </a>
            </div>
        </div>
        <div class="row">
            <div class="col text-center gen-text">
                <p>© Copyright 2023</p>
            </div>
        </div>
    </footer>
    <script src="../assets/js/prism.js"></script>
</body>

</html>